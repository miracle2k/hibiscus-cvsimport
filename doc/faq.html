<html>
  <head>
    <title>Hibiscus Dokumentation</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta name="language" content="de">
    <meta name="author" content="Olaf Willuhn">
    <link rel=stylesheet type="text/css" href="styles.css">
  </head>

  <body>
    <h1>FAQ - Häufig gestellte Fragen</h1>

    <ol>
      <li>
        <a href="#passport">Sicherheitsmedien</a>
        <ul>
          <li><a href="#passport.nosettings">[generell] Fehlermeldung &quot;Keine Konfigurationen gefunden&quot;</a></li>
          <li><a href="#passport.pintan.settings">[PIN/TAN] Fehlermeldung &quot;Fehler beim Erzeugen eines HBCIHandler Objektes&quot;</a></li>
          <li><a href="#passport.pintan.length">[PIN/TAN] Hibiscus akzeptiert meine PIN nicht. Sie besitzt mehr als 6 Stellen</a></li>
          <li><a href="#passport.ddv.port">[Chipkarte] Fehler beim Testen des Chipkartenlesers (meist bei USB-Anschluss)</a></li>
        </ul>
      </li>
      <li>
        <a href="#errors">Bekannte Fehler</a>
        <ul>
          <li><a href="#errors.os.ubuntu">Der Start bricht mit der Fehlermeldung &quot;java.lang.SecurityException: write access to /opt/jameica/jameica.lock denied&quot; ab</a></li>
          <li><a href="#errors.ums.missng">Es werden nicht alle Umsätze abgerufen</a></li>
          <li><a href="#errors.ums.umlaut">Die Verwendungszwecken einiger Umsätze werden nicht vollständig angezeigt</a></li>
        </ul>
      </li>
    </ol>

    <br/>
    <hr/>
    <br/>

    <ol>
      <li>
        <a name="passport"></a>
        <b>Sicherheitsmedien</b>

        <p>
          <br/>
          <a name="passport.nosettings"></a>
          <b>[generell] Fehlermeldung &quot;Keine Konfigurationen gefunden&quot;</b>
          <br/><br/>
          Sie haben den Button &quot;Daten aus Medium lesen&quot; in der Kontoliste
          gedrückt um Ihre via HBCI verfügbaren Konten abzurufen. Es existiert jedoch
          noch keine Konfiguration für den Zugangsweg zu Ihrer Bank. Richten Sie
          daher bitte zuerst ein Sicherheitsmedium ein. Wählen Sie
          <span class="klickpath">Plugins&raquo;Hibiscus&raquo;Einstellungen</span>
          und klicken Sie in der Liste der verfügbaren Sicherheitsmedien doppelt
          auf die gewünschte Zugangsart (Schlüsseldiskette, Chipkarte oder PIN/TAN)
          und erstellen Sie dort eine neue Konfiguration. Nachdem Sie die Verbindung
          zur Bank erfolgreich getestet haben, wechseln Sie über das Navigationsmenü
          zu <span class="klickpath">Jameica&raquo;Hibiscus&raquo;Konten</span>.
          Unterhalb der Kontenliste sehen Sie ein Feld zur Auswahl des Sicherheitsmediums.
          Wählen Sie das soeben konfigurierte Medium aus und klicken Sie auf
          &quot;Daten aus Medium lesen&quot;. Insofern Ihre Bank dies unterstützt, werden
          nun die verfügbaren Konten automatisch ermittelt und angelegt. Funktioniert
          die automatische Erstellung der Konten nicht, müssen Sie diese manuell anlegen.
        </p>

        <p>
          <br/>
          <a name="passport.pintan.settings"></a>
          <b>[PIN/TAN] Fehlermeldung &quot;Fehler beim Erzeugen eines HBCIHandler Objektes&quot;</b>
          <br/><br/>
          Die häufigsten Fehlerursachen:
          <ul>
            <li>
              Sie haben in Hibiscus die Adresse des regulären Internet-Banking-Angebots (via Webbrowser) Ihrer
              Bank angegeben, in der PIN/TAN-Konfiguration von Hibiscus also einfach die URL verwendet,
              die Sie auch sonst im Browser benutzen. Der Zugang über den Browser (Webbanking-PIN/TAN) und
              über Hibiscus (HBCI-PIN/TAN) sind jedoch zwei völlig verschiedene Zugangswege zur Bank, die
              nur eines gemeinsam haben: Die Eingabe von PIN und TANs. Wenn Sie also bisher ihre Bankgeschäfte
              online im Webbrowser gemacht haben, dann versuchen Sie nicht, diese HTTPS-URL auch für Hibiscus
              verwenden zu wollen - es wird mit an Sicherheit grenzender Wahrscheinlichkeit fehlschlagen.
              <br/>
              Stattdessen: Besuchen Sie die Seite <a href="http://www.hbci-zka.de/institute/institut_auswahl.htm">http://www.hbci-zka.de/institute/institut_auswahl.htm</a>,
              geben Sie die BLZ Ihrer Bank ein und prüfen Sie, ob PIN/TAN überhaupt unterstützt wird. Falls ja, dann verwenden
              Sie bitte die dort angegebene &quot;PIN/TAN URL&quot; (bei Sparkassen z.Bsp. meist &quot;hbci.finanzit.com/cgi/hbcipt.cgi&quot;)
              in Hibiscus. Stellen Sie ausserdem sicher, dass Sie bei Ihrer Bank tatsächlich für HBCI-PIN/TAN
              und nicht nur für Webbanking-PIN/TAN freigeschaltet sind. Falls Ihnen die Eingabe-Felder für
              Benutzerkennung und Kundenkennung beim Anlegen der PIN/TAN-Konfiguration in Hibiscus
              spanisch vorkommen, ist dies ein deutliches Zeichen für einen fehlenden Zugang. ;)
            </li>
            <li>
              Sie benutzen die falsche HBCI-Version. Prüfen Sie unter <a href="http://www.hbci-zka.de/institute/institut_auswahl.htm">http://www.hbci-zka.de/institute/institut_auswahl.htm</a>,
              welche HBCI-Version von Ihrer Bank tatsächlich unterstützt wird. Öffnen Sie die Hibiscus-Einstellungen
              über <span class="klickpath">Plugins&raquo;Hibiscus&raquo;Einstellungen</span>. Klicken Sie
              in der Liste der Sicherheitsmedien doppelt auf &quot;PIN/TAN&quot;. Sie sehen eine Liste
              mit vorhandenen Konfigurationen. Öffnen Sie die von Ihnen angelegte Konfiguration durch
              Doppelklick und passen Sie die HBCI-Version an. Testen Sie auf jeden Fall die Version "HBCI+".
              Hintergrund: Das PIN/TAN-Verfahren sollte ursprünglich erst mit HBCI 3.0 (FinTS) eingeführt werden.
              Viele Banken haben die Unterstützung hierfür jedoch bereits in HBCI 2.2 integriert. Zur besseren
              Unterscheidung der beiden Versionen "HBCI 2.2 ohne PIN/TAN" und "HBCI 2.2 mit PIN/TAN" nennt
              man letzteres "HBCI+". Viele Banken bezeichnen sie jedoch dennoch als "HBCI 2.2".
              <br/>
              Sollten Sie sich nicht sicher sein, können Sie auch alle vorhandenen HBCI-Versionen
              durchprobieren, indem Sie nach jeder Auswahl den Button &quot;Konfiguration testen&quot;
              betätigen und prüfen, ob der Test fehlerfrei beendet wird.
            </li>
            <li>
              Ihre Bank verwendet Base64-Codierung für die Übertragung der Daten.
              Öffnen Sie hierzu wie bereits oben beschrieben die Konfiguration der PIN/TAN-Konfiguration
              und wählen bei &quot;Filter für die Übertragung&quot; den Wert &quot;Base64&quot; statt &quot;None&quot;.
            </li>
            <li>
              Sie besitzen keine permanente Online-Anbindung, Hibiscus ist jedoch für eine solche
              konfiguriert. Deaktivieren Sie hierzu die Option &quot;Bei Kommunikation mit der Bank Internetverbindung ohne Nachfrage herstellen&quot;
              unter <span class="klickpath">Plugins&raquo;Hibiscus&raquo;Einstellungen</span>.
            </li>
          </ul>
        </p>

        <p>
          <br/>
          <a name="passport.pintan.length"></a>
          <b>[PIN/TAN] Hibiscus akzeptiert meine PIN nicht. Sie besitzt mehr als 6 Stellen</b>
          <br/><br/>
          
          Hibiscus erlaubt standardmässig nur maximal 6-stellige PINs.
          Sie können diesen Wert jedoch ändern. Beenden Sie zunächst Hibiscus.
          Öffnen Sie nun die folgende Datei in einem Text-Editor:

          <br/>
          <br/><pre>
Linux: /home/&lt;username&gt;/.jameica/cfg/de.willuhn.jameica.hbci.HBCIProperties.properties
Windows: C:\Dokumente und Einstellungen\&lt;username&gt;\.jameica\cfg\de.willuhn.jameica.hbci.HBCIProperties.properties</pre>
          <br/>
          
          Fügen Sie dort eine neue Zeile in folgendem Format ein:
          <pre>hbci.pin.maxlength=&lt;zahl&gt;</pre>

          <br/>
          Also zum Beispiel:
          <pre>hbci.pin.maxlength=7</pre>

          <br/>
          Speichern Sie die Datei und starten Sie Hibiscus neu. Die Anwendung sollte nun auch längere PINs akzeptieren.
        </p>
        
        <p>
          <br/>
          <a name="passport.ddv.port"></a>
          <b>[Chipkarte] Fehler beim Testen des Chipkartenlesers (meist bei USB-Anschluss)</b>
          <br/><br/>
          Bei der Konfiguration des Kartenlesers werden die Anschlüsse als &quot;COM1&quot;, &quot;COM2&quot; und &quot;USB&quot;
          angezeigt, was zum einen plattform-spezifisch ist und nur unter Windows so bezeichnet wird.
          Zum anderen ist die Anzeige eigentlich falsch, denn die Information wird dem
          Geräte-Treiber des Chipkartenlesers (CTAPI-Treiber) übergeben, welcher jedoch nicht
          mit Portnamen sondern &quot;logischen&quot; Portnummern umgeht. Hierbei gilt folgendes
          Mapping: COM1=0,COM2=1,USB=2.
          <br/>
          Es kann auch durchaus vorkommen, dass der CTAPI-Treiber eines USB-Kartenlesers über den
          logischen Port 0 erreichbar und somit eigentlich als COM1 konfiguriert werden muss.
          Da dies sehr missverstaendlich, existiert bereits ein Eintrag in der Bug-Datenbank.
          <br/>
          Siehe auch:
          <br/>
          <a href="http://www.willuhn.de/bugzilla/show_bug.cgi?id=61">http://www.willuhn.de/bugzilla/show_bug.cgi?id=61</a>
        </p>

      </li>

      <li>
        <a name="errors"></a>
        <b>Bekannte Fehler</b>

        <p>
          <br/>
          <a name="errors.os.ubuntu"></a>
          <b>Der Start bricht mit der Fehlermeldung &quot;java.lang.SecurityException: write access to /opt/jameica/jameica.lock denied&quot; ab</b>
          <br/><br/>

          Dieser Fehler tritt meist bei Debian-basierten Distributionen
          (z.Bsp. Ubuntu, Kubuntu) auf.<br/>
          Diese verwenden standardm&auml;ssig nicht SUN Java sondern GNU Java (gcj).
          Jameica funktioniert damit leider nicht (die Ursache konnte ich
          bisher noch nicht finden). Einfachste L&ouml;sung:
          
          <ol>
            <li>
              Laden Sie sich Java (JRE oder JDK) von <a href="http://java.sun.com">java.sun.com</a>.
              <br/>Z.Bsp.: <a href="http://javashoplm.sun.com/ECom/docs/Welcome.jsp?StoreId=22&PartDetailId=j2re-1.4.2_10-oth-JPR&SiteId=JSC&TransactionId=noreg">j2re-1_4_2_10-linux-i586.bin</a>
            </li>
            <li>
              Kopieren Sie das heruntergeladene Archiv als User &quot;root&quot nach /usr/lib.
            </li>
            <li>
             Starten Sie das selbstentpackende Archiv als User &quot;root&quot mit
             <pre>sh ./j2re-1_4_2_10-linux-i586.bin</pre>
             und folge den Installationsanweisungen. Achten Sie beim
             Entpacken auf den Namen des erstellten Unterverzeichnisses.
             Er lautet meist &quot;j2sdk...&quot;, &quot;j2jre...&quot;, &quot;jdk...&quot; oder &quot;jre...&quot;
           </li>
           <li>
             Erstellen Sie bei Bedarf als User &quot;root&quot einen symbolischen Link nach /usr/lib/java,
             damit Sie sich den Pfad einfacher merken können. Z.Bsp.
             <pre>ln -s /usr/lib/&lt;Java-Verzeichnis&gt; /usr/lib/java</pre>
           </li>
           <li>
             &Ouml;fnen Sie das Startscript /opt/jameica/jameica.sh als User &quot;root&quot in einem Text-Editor
             und tragen Sie dort den zu verwendenden Java-Pfad ein. Z.Bsp.:
             
             <pre>
#!/bin/sh

# Linux Start-Script fuer regulaeren Standalone-Betrieb.
# Jameica wird hierbei mit GUI gestartet.

export JAVA_HOME=/usr/lib/java

$JAVA_HOME/bin/java -Djava.library.path=lib/swt/linux -jar jameica-linux.jar $@
             </pre>
           </li>
           <li>
             Jetzt sollte sich die Anwendung starten lassen.
           </li>
          </ol>
          Achten Sie bitte darauf, Jameica/Hibiscus <b>nicht</b> als User Root
          zu starten. Auch wenn Ihnen die aufgrund der ursprünglichen Fehlermeldung
          als notwendig erschien. Die Anwendung benötigt keinerlei Root-Rechte.
        </p>

        <p>
          <br/>
          <a name="errors.ums.missing"></a>
          <b>Es werden nicht alle Umsätze abgerufen</b>
          <br/><br/>
          Dies ist ein Fehler in der von Hibiscus intern benutzten
          HBCI-Implementierung &quot;HBCI4Java&quot; von Stefan Palme.
          Der Fehler ist dem Autor bekannt und bereits (lokal) behoben.
          Sobald diese neue HBCI4Java-Version erscheint, kann ich diese
          in Hibiscus übernehmen.
          <br/>
          Siehe auch:
          <br/>
          <a href="http://www.willuhn.de/bugzilla/show_bug.cgi?id=35">http://www.willuhn.de/bugzilla/show_bug.cgi?id=35</a>
          <br/>
          <a href="http://sourceforge.net/mailarchive/forum.php?thread_id=6936286&forum_id=32946">http://sourceforge.net/mailarchive/forum.php?thread_id=6936286&forum_id=32946</a>
        </p>

        <p>
          <br/>
          <a name="errors.ums.umlaut"></a>
          <b>Die Verwendungszwecken einiger Umsätze werden nicht vollständig angezeigt</b>
          <br/><br/>
          Dies ist ein Fehler im Base64 Decoding/Encoding von HBCI4Java.
          Dennoch sollte er in Hibiscus nicht mehr auftreten (Nightly-Build ab 04.05.2005),
          da inzwischen ein Workaround in Hibiscus existiert, welcher den Fehler in
          HBCI4Java übergangsweise umschifft (bis die neue HCBI4Java-Release erscheint).
          <br/>
          Siehe auch:
          <br/>
          <a href="http://www.willuhn.de/bugzilla/show_bug.cgi?id=39">http://www.willuhn.de/bugzilla/show_bug.cgi?id=39</a>
          <br/>
          <a href="http://sourceforge.net/mailarchive/forum.php?thread_id=6957215&forum_id=32946">http://sourceforge.net/mailarchive/forum.php?thread_id=6957215&forum_id=32946</a>
        </p>

      </li>


    <!--
      <li>
        <a name="link"></a>
        <b>Ueberschrift</b>

        <p>
          <br/>
          <a name="link"></a>
          <b>Frage</b>
          <br/><br/>
          Text
        </p>

      </li>


    </ol>
    //-->

    <hr/>
    $Revision$

  </body>
</html>